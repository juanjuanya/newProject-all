(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Game});var antd_es_icon_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(131),antd_es_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),antd_es_button_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62),antd_es_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(15),C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(18),antd_es_message_style__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(102),antd_es_message__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(52),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),_assets_css_game_less__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(624),_assets_css_game_less__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_assets_css_game_less__WEBPACK_IMPORTED_MODULE_12__),info=function(){antd_es_message__WEBPACK_IMPORTED_MODULE_10__.a.info("Game Over")},shapes=[[26112],[8738,3840],[50688,9792],[27648,17952],[17504,736,25120,1856],[8800,3616,25664,18176],[9760,1824,8992,9984]],map,shape,currShapeInfo,bak,run,Game=function(_Component){function Game(){var _getPrototypeOf2,_this;Object(C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,Game);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__.a)(this,(_getPrototypeOf2=Object(C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__.a)(Game)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={count:0},_this.start=function(){_this.stop(),shape=shapes[~~(7*Math.random())],bak=currShapeInfo={fk:[],y:0,x:4,s:~~(4*Math.random())},_this.rotate(0),run=setInterval(function(){return _this.down()},300)},_this.stop=function(){clearInterval(run),map=eval("["+Array(23).join("0x801,")+"0xfff]"),_this.setState({count:0})},_this.new=function(){shape=shapes[~~(7*Math.random())],bak=currShapeInfo={fk:[],y:0,x:4,s:~~(4*Math.random())},_this.rotate(0)},_this.over=function(){return map=eval("["+Array(23).join("0x801,")+"0xfff]"),clearInterval(run),info()},_this.rotate=function(e){for(var t=shape[currShapeInfo.s=(currShapeInfo.s+e)%shape.length],a=0;a<4;a++)currShapeInfo.fk[a]=(t>>12-4*a&15)<<currShapeInfo.x;_this.update(_this.is())},_this.update=function(e){if(bak={fk:currShapeInfo.fk.slice(0),y:currShapeInfo.y,x:currShapeInfo.x,s:currShapeInfo.s},!e){for(var t=0,a="";t<22;t++)a+=map[t].toString(2).slice(1,-1)+"<br/>";for(var n,r=0;r<4;r++)/([^0]+)/.test(bak.fk[r].toString(2).replace(/1/g,"\u25a1"))&&(a=a.substr(0,n=15*(bak.y+r+1)-RegExp.$_.length-4)+RegExp.$1+a.slice(n+RegExp.$1.length));document.getElementById("view")&&(document.getElementById("view").innerHTML=a.replace(/1/g,"\u25a0").replace(/0/g,"\u3000"))}},_this.is=function(){for(var e=0;e<4;e++)if(0!==(currShapeInfo.fk[e]&map[currShapeInfo.y+e]))return currShapeInfo=bak},_this.down=function(){if(++currShapeInfo.y,_this.is()){for(var e=0;e<4&&currShapeInfo.y+e<22;e++)if(4095===(map[currShapeInfo.y+e]|=currShapeInfo.fk[e])){map.splice(currShapeInfo.y+e,1),map.unshift(2049);var t=_this.state.count+1;_this.setState({count:t})}if(2049!==map[1])return _this.over();_this.new()}_this.update()},_this.move=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;currShapeInfo.x+=t;for(var a=0;a<4;a++)currShapeInfo.fk[a]*=e;_this.update(_this.is())},_this}return Object(C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__.a)(Game,_Component),Object(C_Users_juanjuanle_Desktop_test_kyNew_myblog_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(Game,[{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{className:"game"},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{id:"view"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{className:"control"},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__.a,{className:"begin",type:"primary",onClick:this.start},"\u5f00\u59cb\u6e38\u620f"),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__.a,{className:"stop",type:"primary",onClick:this.stop},"\u7ed3\u675f\u6e38\u620f"),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{className:"score"},"\u603b\u5f97\u5206\uff1a",react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("span",null,this.state.count)),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{className:"btn up",theme:"filled",onClick:function(){return e.rotate(1)},type:"up-circle"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{className:"btn down",theme:"filled",onClick:this.down,type:"down-circle"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{className:"btn left",theme:"filled",onClick:function(){return e.move(2,1)},type:"left-circle"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{className:"btn right",theme:"filled",onClick:function(){return e.move(.5,1)},type:"right-circle"})))}}]),Game}(react__WEBPACK_IMPORTED_MODULE_11__.Component)},291:function(e,t,a){e.exports=a(629)},300:function(e,t,a){},321:function(e,t,a){},368:function(e,t,a){},488:function(e,t,a){},515:function(e,t,a){},520:function(e,t,a){},568:function(e,t,a){},623:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},629:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),s=a.n(l),c=a(25),o=a(24),i=a(84),u=(a(300),a(73)),m=a(271),_=a(272),p=a(98),d="AUTH_SUCCESS",E="ERROR_MSG",h="RECEIVE_USER",f="RESET_USER",v="POST_SUBMIT",b="RECEIVE_POSTLIST",g="RECEIVE_POST",y="SEND_COMMENT",O="RECEIVE_COMMENTS",w="RECEIVE_UPDATE_POST",C="RECEIVE_ALL_COMMENTS",k="RECEIVE_DELETE_POST",j="RECEIVE_DELETE_COMMENT",P={redirectTo:""};var D={};var M=[];var I={};var T={};var S={};var N={};var R=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(p.a)({},t.data,{redirectTo:"/"});case E:return Object(p.a)({},e,{msg:t.data});case h:return t.data;case f:return Object(p.a)({},P,{msg:t.data});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case w:return Object(p.a)({},t.data);default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case k:return t.data;default:return e}},postview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.data;default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.data;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.data;default:return e}},allComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case j:return t.data;default:return e}}}),A=Object(u.createStore)(R,Object(_.composeWithDevTools)(Object(u.applyMiddleware)(m.a))),L=a(14),U=a(15),x=a(17),B=a(16),W=a(18),K=a(64),q=a.n(K),z=(a(301),a(286)),G=(a(62),a(26)),F=a(20),J=a.n(F),V=a(40),H=a(184),Q=a.n(H);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";if("GET"===a){var n="";return Object.keys(t).forEach(function(e){n+=e+"="+t[e]+"&"}),n&&(e=e+"?"+(n=n.substring(0,n.length-1))),Q.a.get(e)}if("POST"===a)return Q.a.post(e,t)}var Y,X,Z=function(e){return $("/updatePost",e,"POST")},ee=function(e){return $("/updateUser",e,"POST")},te=function(e){return{type:d,data:e}},ae=function(e){return{type:E,data:e}},ne=function(e){return{type:h,data:e}},re=function(e){return{type:v,data:e}},le=function(e){return{type:y,data:e}},se=function(e){return{type:f,data:e}},ce=function(){return function(){var e=Object(V.a)(J.a.mark(function e(t){var a,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/postlist");case 2:a=e.sent,0===(n=a.data).code&&t((r=n.data,{type:b,data:r}));case 5:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(V.a)(J.a.mark(function e(t){var a,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/allComments");case 2:a=e.sent,0===(n=a.data).code&&t((r=n.data,{type:C,data:r}));case 5:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}()},ie=(a(321),a(30)),ue=a.n(ie),me=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,visible1:!1},a.handleLogout=function(){q.a.remove("userid"),a.props.resetUser()},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.showDrawer1=function(){a.setState({visible1:!0})},a.onClose1=function(){a.setState({visible1:!1})},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=q.a.get("userid"),t=this.props.user,a=this.props.posts.reduce(function(e,a){return a.posterId===t._id&&(e+=1),e},0);return e?r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"headerBar"},r.a.createElement("ul",{className:"headerList"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"\u9996\u9875")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/personal"},"\u4e2a\u4eba\u4e2d\u5fc3")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/post"},"\u6211\u8981\u53d1\u5e16")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/game"},"\u5c0f\u6e38\u620f"))),r.a.createElement("div",{className:"headerRight"},r.a.createElement("div",{className:"name"},t.username),r.a.createElement("div",{className:"drawer"},r.a.createElement("span",{onClick:this.showDrawer,className:"avatar",style:{backgroundImage:"url(".concat(t.avatar,")")}}),r.a.createElement(z.a,{title:"\u7528\u6237\u4fe1\u606f",placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:"390px"},r.a.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("img",{style:{maxWidth:100},src:t.avatar,alt:"avatar"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",null,"\u7528\u6237\u540d: ",t.username),r.a.createElement("br",null),r.a.createElement("div",null,"\u90ae\u7bb1: ",t.email),r.a.createElement("br",null),r.a.createElement("div",null,"\u5e16\u5b50: ",a),r.a.createElement("br",null),r.a.createElement("div",null,"\u8bc4\u8bba: ",t.userComments),r.a.createElement("br",null),r.a.createElement("div",null,"blog \u9f84: ",ue()(+t.registerTime).fromNow()),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(G.a,{style:{width:"200px",height:50,fontSize:20,padding:10},onClick:this.handleLogout},"\u9000\u51fa\u767b\u9646")))))))):r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"headerBar"},r.a.createElement("ul",{className:"headerList"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"\u9996\u9875")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/picture"},"\u8d85\u6e05\u56fe\u5e93")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/game"},"\u5c0f\u6e38\u620f"))),r.a.createElement("ul",{className:"headerList2"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"\u767b\u5f55")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"\u6ce8\u518c")))))}}]),t}(n.Component),_e=Object(c.b)(function(e){return{user:e.user,posts:e.posts}},{resetUser:se})(me),pe=(a(123),a(48)),de=(a(102),a(52)),Ee=(a(368),a(369),a(275)),he=a.n(Ee),fe=function(){de.a.info("\u6807\u9898\u53ca\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01")},ve=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:"",editorState:null,html:"",posterId:""},a.handleTitle=function(e){var t=e.target.value.trim();if(""===t)return fe();a.setState({title:t})},a.handleContent=function(e){""===a.state.posterId&&a.setState({posterId:a.props.user._id}),a.setState({content:JSON.stringify(e),html:e.toHTML(),editorState:e})},a.handleSubmit=function(){if(!a.state.content)return fe();var e=JSON.parse(a.state.content)._immutable.currentContent,t=e.selectionAfter.anchorKey,n=e.blockMap[t].text.trim();if(!n||!a.state.title||!a.state.content)return fe();a.setState({content:n}),setTimeout(function(){a.state.title&&a.state.content&&a.props.postSubmit(a.state),a.props.history.push("/")},500)},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"outer"},r.a.createElement("div",{className:"inter"},r.a.createElement("div",{className:"title"},"\u5e16\u5b50\u6807\u9898\uff1a",r.a.createElement(G.a,{className:"button",onClick:this.handleSubmit},"\u53d1\u5e03")),r.a.createElement("br",null),r.a.createElement(pe.a,{className:"input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5e16\u5b50\u6807\u9898\uff01",onChange:this.handleTitle}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"title"},"\u5e16\u5b50\u5185\u5bb9\uff1a"),r.a.createElement("br",null),r.a.createElement("div",{className:"content"},r.a.createElement(he.a,{onChange:this.handleContent}))))}}]),t}(n.Component),be=Object(c.b)(function(e){return{user:e.user,post:e.post}},{postSubmit:function(e){var t=e.title,a=e.content,n=e.posterId,r=e.html;return function(){var e=Object(V.a)(J.a.mark(function e(l){var s,c;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/post",{title:t,content:a,posterId:n,html:r},"POST");case 2:s=e.sent,0===(c=s.data).code&&l(re(c.data));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(ve),ge=(a(110),a(34)),ye=(a(130),a(75)),Oe=(a(131),a(9)),we=(a(174),a(97)),Ce=(a(488),a(631),a(285)),ke=(a(491),a(189)),je=ke.a.Panel,Pe=function(e){function t(){return Object(L.a)(this,t),Object(x.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sidebar"},r.a.createElement(Ce.a,{fullscreen:!1})),r.a.createElement("div",{className:"sideArtical"},r.a.createElement(ke.a,{defaultActiveKey:["1"]},r.a.createElement(je,{header:"\u4e2a\u4eba\u9879\u76ee",key:"1"},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"\u4fc4\u7f57\u65af\u65b9\u5757")),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"\u7eaf CSS \u4eff\u5199\u5c0f\u7c73\u5b98\u7f51\u9996\u9875")),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"\u590f\u65e5\u7ed8\u677f")),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"\u884c\u5185\u767b\u9ad8\u81ea\u9002\u5e94\u7011\u5e03\u6d41")),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"\u79fb\u52a8\u7aef \u9879\u76ee\u4eff\u5199")),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"PC \u7aef\u4e2a\u4eba\u535a\u5ba2"))),r.a.createElement(je,{header:"\u53cb\u60c5\u94fe\u63a5",key:"2"},r.a.createElement("p",null,r.a.createElement("a",{href:"/"}," QQ \u90ae\u7bb1: 1021255794@qq.com")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/KuaiYu95"},"Github: https://github.com/juanjuanya"))),r.a.createElement(je,{header:"\u5b66\u4e60\u7f51\u7ad9",key:"3"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.github.com/"},"\u5927\u578b\u4e13\u4e1a\u5b66\u4e60\u4ea4\u53cb\u7f51\u7ad9")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://developer.mozilla.org/zh-CN/"},"MDN Web \u6587\u6863")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://stackoverflow.com/"},"Learn Share Build")),r.a.createElement("p",null,r.a.createElement("a",{href:"http://www.ruanyifeng.com"},"\u962e\u4e00\u5cf0\u7684\u7f51\u7edc\u65e5\u5fd7")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://imququ.com/"},"Jerry Qu \u4e13\u6ce8\u524d\u7aef\u5f00\u53d1")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://developers.google.com/web/fundamentals/primers/promises"},"Promise")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html"}," We have a problem with promises ")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://medium.com/@bluepnume/even-with-async-await-you-probably-still-need-promises-9b259854c161"},"Even with async/await, raw promises are still key to writing optimal concurrent javascript")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://krasimirtsonev.com/blog/article/Javascript-template-engine-in-just-20-line/"},"JavaScript template engine in just 20 lines")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://nodejs.org/dist/latest-v11.x/docs/api/"},"Index | Node.js v11.15.0 Documentation")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://expressjs.com/zh-cn/4x/api.html#req.is"},"Express 4.x - API \u53c2\u8003")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/koajs/koa/wiki"},"Home \xb7 koajs/koa Wiki")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://reactjs.org/"},"React \u2013 A JavaScript library for building user interfaces")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://ant.design/docs/react/introduce-cn"},"Ant Design of React - Ant Design")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://babeljs.io/"},"Babel \xb7 The compiler for next generation JavaScript")),r.a.createElement("p",null,r.a.createElement("a",{href:"http://element.eleme.io/#/zh-CN"},"Element - \u7f51\u7ad9\u5feb\u901f\u6210\u578b\u5de5\u5177")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://redux.js.org/introduction/motivation"},"Motivation \xb7 Redux")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://reacttraining.com/react-router/web/guides/quick-start"},"React Router: Declarative Routing for React.js"))))))}}]),t}(n.Component),De=function(){de.a.info("\u8bf7\u5148\u767b\u5f55\uff01")},Me=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).handleUpdate=function(e){var t=e.type,n=e.count,r=e._id;return function(){if(!q.a.get("userid"))return De();"star-o"===t?(n+=1,a.props.updatePost({type:t,count:n,_id:r})):"like-o"===t&&(n+=1,a.props.updatePost({type:t,count:n,_id:r}))}},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this;Y=setInterval(function(){e.props.getPostList()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(Y)}},{key:"render",value:function(){var e=this,t=this.props.posts;return r.a.createElement("div",{className:"post-list"},r.a.createElement(we.a,null),r.a.createElement("div",{className:"postid"},r.a.createElement(ge.a,{itemLayout:"vertical",size:"large",pagination:{pageSize:10},dataSource:t,footer:r.a.createElement("div",null,r.a.createElement("b",null,"\u524d\u7aef\u6e23\u6e23\u7684\u4e2a\u4eba\u535a\u5ba2\u7f51\u7ad9"),r.a.createElement("br",null),r.a.createElement("br",null),"\u6b22\u8fce\u53c2\u89c2\uff01\uff01\uff01"),renderItem:function(t){return r.a.createElement(ge.a.Item,{key:t.title,actions:[r.a.createElement("span",{onClick:e.handleUpdate({type:"star-o",count:t.star,_id:t._id})},r.a.createElement(Oe.a,{type:"star-o",style:{marginRight:8}}),t.star),r.a.createElement("span",{onClick:e.handleUpdate({type:"like-o",count:t.zan,_id:t._id})},r.a.createElement(Oe.a,{type:"like-o",style:{marginRight:8}}),t.zan),r.a.createElement("span",null,r.a.createElement(Oe.a,{type:"message",style:{marginRight:8}}),t.commentCount)],extra:ue()(+t.postTime).fromNow()},r.a.createElement(ge.a.Item.Meta,{avatar:r.a.createElement(ye.a,{src:t.posterAvatar}),title:r.a.createElement(o.b,{to:"/post:".concat(t._id),className:"title"},t.title),description:t.posterName}),r.a.createElement("div",{className:"content"},t.content))}})),r.a.createElement(Pe,null))}}]),t}(n.Component),Ie=Object(c.b)(function(e){return{posts:e.posts,user:e.user}},{getPostList:ce,updatePost:function(e){return function(){var t=Object(V.a)(J.a.mark(function t(a){var n,r;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:n=t.sent,0===(r=n.data).code&&a((l=r.data,{type:w,data:l}));case 5:case"end":return t.stop()}var l},t)}));return function(e){return t.apply(this,arguments)}}()}})(Me),Te=(a(515),a(516),function(e){function t(){return Object(L.a)(this,t),Object(x.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:this.props.post.posterAvatar,alt:"avatar"}),r.a.createElement("p",null,"\u7528\u6237\u540d\uff1a",this.props.post.posterName),r.a.createElement("p",null,"\u90ae\u7bb1\uff1a",this.props.post.posterEmail),r.a.createElement(G.a,{className:"btn"},"\u5173\u6ce8")))}}]),t}(n.Component)),Se=(a(175),a(54)),Ne=(a(518),a(188)),Re=(a(520),pe.a.TextArea),Ae=function(){de.a.info("\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01")},Le=function(e){var t=e.comments;return r.a.createElement(ge.a,{dataSource:t,header:"".concat(t.length," ").concat(t.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:function(e){return r.a.createElement(Ne.a,e)},pagination:{pageSize:5}})},Ue=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,l=e.value;return r.a.createElement("div",null,r.a.createElement(Se.a.Item,null,r.a.createElement(Re,{rows:4,onChange:t,value:l})),r.a.createElement(Se.a.Item,null,r.a.createElement(G.a,{htmlType:"submit",loading:n,onClick:a},"Add Comment")))},xe=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={submitting:!1,value:""},a.handleSubmit=function(){if(!a.state.value)return Ae();a.setState({submitting:!0}),setTimeout(function(){var e=a.props.user._id,t=a.props.postview._id,n=ue()().format("L"),r=a.state.value,l=a.props.comments.length+1,s=a.props.postview.title;a.props.comment({val:r,time:n,to:t,who:e,len:l,postTitle:s}),a.setState({submitting:!1,value:""});var c=a.props.user.userComments+1;a.props.updateUser({_id:e,count:c})},500)},a.handleChange=function(e){a.setState({value:e.target.value})},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this;X=setInterval(function(){var t=e.props.postview._id;e.props.getComments({_id:t})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(X)}},{key:"render",value:function(){var e=this.state,t=e.submitting,a=e.value,n=this.props.user,l=n.username,s=n.avatar,c=this.props.comments,o=q.a.get("userid");return r.a.createElement("div",{className:"comment"},o&&r.a.createElement(Ne.a,{avatar:r.a.createElement(ye.a,{src:s,alt:l}),content:r.a.createElement(Ue,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:t,value:a})}),c.length>0&&r.a.createElement(Le,{comments:c}))}}]),t}(n.Component),Be=Object(c.b)(function(e){return{user:e.user,comments:e.comments,postview:e.postview}},{comment:function(e){var t=e.val,a=e.time,n=e.to,r=e.who,l=e.len,s=e.postTitle;return function(){var e=Object(V.a)(J.a.mark(function e(c){var o,i;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/comment",{val:t,time:a,to:n,who:r,len:l,postTitle:s},"POST");case 2:o=e.sent,0===(i=o.data).code&&c(le(i.data));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getComments:function(e){var t=e._id;return function(){var e=Object(V.a)(J.a.mark(function e(a){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/comments",{_id:t},"POST");case 2:n=e.sent,0===(r=n.data).code&&a((l=r.data,{type:O,data:l}));case 5:case"end":return e.stop()}var l},e)}));return function(t){return e.apply(this,arguments)}}()},updateUser:function(e){return function(){var t=Object(V.a)(J.a.mark(function t(a){var n,r;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:n=t.sent,0===(r=n.data).code&&a(ne(r.data));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(xe),We=function(e){function t(){return Object(L.a)(this,t),Object(x.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params._id.slice(1);this.props.viewPost({_id:e})}},{key:"render",value:function(){var e=this.props.postview,t=e.html;return r.a.createElement("div",{className:"postview"},r.a.createElement(we.a,null),r.a.createElement(Te,{post:e}),r.a.createElement("div",{className:"artical"},r.a.createElement("h1",null,e.title),r.a.createElement("div",{className:"braft-output-content",dangerouslySetInnerHTML:{__html:t}})),r.a.createElement(Be,null))}}]),t}(n.Component),Ke=Object(c.b)(function(e){return{postview:e.postview}},{viewPost:function(e){var t=e._id;return function(){var e=Object(V.a)(J.a.mark(function e(a){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/viewpost",{_id:t},"POST");case 2:n=e.sent,0===(r=n.data).code&&a((l=r.data,{type:g,data:l}));case 5:case"end":return e.stop()}var l},e)}));return function(t){return e.apply(this,arguments)}}()}})(We),qe=(a(630),a(284)),ze=a(95),Ge=(a(568),Se.a.Item);function Fe(e){var t="image/jpeg"===e.type;t||de.a.error("You can only upload JPG file!");var a=e.size/1024/1024<1;return a||de.a.error("Image must smaller than 1MB!"),t&&a}var Je=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",password2:"",email:"",avatar:"",loading:!1},a.handleChange=function(e,t){a.setState(Object(ze.a)({},t,e.target.value))},a.toLogin=function(){a.props.history.replace("/login")},a.register=function(){a.props.register(a.state)},a.handleAvatar=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({avatar:e,loading:!1})}):a.setState({loading:!0})},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Oe.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("span",{className:"ant-upload-text"},"\u4e0a\u4f20\u5934\u50cf")),a=this.state.avatar,n=this.props.form.getFieldDecorator,l=this.props.user.redirectTo;return l?r.a.createElement(i.a,{to:l}):r.a.createElement("div",{className:"register"},r.a.createElement(Se.a,{className:"form"},r.a.createElement(Ge,null,n("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onChange:function(t){e.handleChange(t,"username")}}))),r.a.createElement(Ge,{hasFeedback:!0},n("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(t){e.handleChange(t,"password")}}))),r.a.createElement(Ge,{hasFeedback:!0},n("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",onChange:function(t){e.handleChange(t,"password2")}}))),r.a.createElement(Ge,null,n("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),type:"email",placeholder:"\u8bf7\u8f93\u5165 E-mail",onChange:function(t){e.handleChange(t,"email")}}))),r.a.createElement(Ge,null,r.a.createElement(qe.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:Fe,onChange:this.handleAvatar},a?r.a.createElement("img",{className:"ant-img",src:a,alt:"avatar"}):t)),r.a.createElement(Ge,null,r.a.createElement(G.a,{type:"primary",htmlType:"submit",className:"button",onClick:this.register},"\u6ce8\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u518c"),r.a.createElement(G.a,{type:"primary",className:"button",onClick:this.toLogin},"\u767b\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u5f55"))))}}]),t}(n.Component),Ve=Se.a.create({name:"normal_login"})(Je),He=Object(c.b)(function(e){return{user:e.user}},{register:function(e){var t=e.username,a=e.password,n=e.email,r=e.avatar;return function(){var e=Object(V.a)(J.a.mark(function e(l){var s,c;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/register",{username:t,password:a,email:n,avatar:r},"POST");case 2:s=e.sent,0===(c=s.data).code?l(te(c.data)):1===c.code&&l(ae(c.msg));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(Ve),Qe=(a(623),Se.a.Item),$e=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e,t){a.setState(Object(ze.a)({},t,e.target.value))},a.toRegister=function(){a.props.history.replace("/register")},a.login=function(){a.props.login(a.state)},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.user.redirectTo;return a?r.a.createElement(i.a,{to:a}):r.a.createElement("div",{className:"login"},r.a.createElement(Se.a,{onSubmit:this.handleSubmit,className:"form"},r.a.createElement(Qe,null,t("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onChange:function(t){e.handleChange(t,"username")}}))),r.a.createElement(Qe,null,t("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(pe.a,{prefix:r.a.createElement(Oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(t){e.handleChange(t,"password")}}))),r.a.createElement(Qe,null,r.a.createElement(G.a,{type:"primary",htmlType:"submit",className:"button",onClick:this.login},"\u767b\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u5f55"),r.a.createElement(G.a,{type:"primary",className:"button",onClick:this.toRegister},"\u6ce8\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u518c"))))}}]),t}(n.Component),Ye=Se.a.create({name:"normal_login"})($e),Xe=Object(c.b)(function(e){return{user:e.user}},{login:function(e){var t=e.username,a=e.password;return function(){var e=Object(V.a)(J.a.mark(function e(n){var r,l;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/login",{username:t,password:a},"POST");case 2:r=e.sent,0===(l=r.data).code?n(te(l.data)):1===l.code&&n(ae(l.msg));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(Ye),Ze=a(283),et=(a(625),a(626),a(287)),tt=(a(269),a(147)),at=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).deletePost=function(e){console.log(e),a.props.deletePost(e)},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostList()}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.props.posts.filter(function(e){return e.posterId===t._id});return r.a.createElement("div",{className:"mypostlist"},r.a.createElement(ge.a,{itemLayout:"horizontal",dataSource:a,renderItem:function(t){return r.a.createElement(ge.a.Item,{actions:[r.a.createElement("span",{style:{color:"#6290ff"}},"edit"),r.a.createElement("span",{style:{color:"#6290ff"},onClick:function(){return e.deletePost(t._id)}},"delete")],style:{position:"relative"}},r.a.createElement(tt.a,{avatar:!0,title:!1,loading:t.loading,active:!0},r.a.createElement(ge.a.Item.Meta,{avatar:r.a.createElement(ye.a,{src:t.posterAvatar}),title:r.a.createElement(o.b,{to:"/post:".concat(t._id)},"TITLE: ",t.title),description:r.a.createElement("div",{style:{width:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"CONTENT: ",t.content)})),r.a.createElement("div",{style:{position:"absolute",top:1,right:7}},ue()(+t.postTime).fromNow()),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/post:".concat(t._id)},r.a.createElement(et.a,{count:t.commentCount,style:{backgroundColor:"#52c41a"}}))))}}))}}]),t}(n.Component),nt=Object(c.b)(function(e){return{user:e.user,posts:e.posts}},{getPostList:ce,deletePost:function(e){return function(){var t=Object(V.a)(J.a.mark(function t(a){var n,r;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$("/deletePost",{_id:e},"POST");case 2:n=t.sent,0===(r=n.data).code&&a((l=r.data,{type:k,data:l}));case 5:case"end":return t.stop()}var l},t)}));return function(e){return t.apply(this,arguments)}}()}})(at),rt=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(x.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).deleteComment=function(e,t){console.log(e,t),a.props.deleteComment({_id:e,to:t})},a}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.allComments;return a&&n?r.a.createElement("div",null,r.a.createElement(ge.a,{itemLayout:"horizontal",dataSource:n,renderItem:function(t){return r.a.createElement(ge.a.Item,{actions:[r.a.createElement("span",{style:{color:"#6290ff"}},"edit"),r.a.createElement("span",{style:{color:"#6290ff"},onClick:function(){return e.deleteComment(t._id,t.to)}},"delete")]},r.a.createElement(tt.a,{avatar:!0,title:!1,loading:t.loading,active:!0},r.a.createElement(ge.a.Item.Meta,{avatar:r.a.createElement(ye.a,{src:a.avatar}),title:r.a.createElement(o.b,{to:"/post:".concat(t.to)},"POST-TITLE: ",t.postTitle),description:r.a.createElement("div",{style:{width:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"COMMENT: ",t.content)})),r.a.createElement("div",null,t.datetime))}})):r.a.createElement("div",null,"fdaslk")}}]),t}(n.Component),lt=Object(c.b)(function(e){return{user:e.user,allComments:e.allComments}},{getAllComments:oe,deleteComment:function(e){return function(){var t=Object(V.a)(J.a.mark(function t(a){var n,r;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$("/deleteComment",{_id:e},"POST");case 2:n=t.sent,0===(r=n.data).code&&a((l=r.data,{type:j,data:l}));case 5:case"end":return t.stop()}var l},t)}));return function(e){return t.apply(this,arguments)}}()}})(rt),st=ge.a.Item,ct=function(e){function t(){return Object(L.a)(this,t),Object(x.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllComments()}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"personal"},r.a.createElement("div",{className:"sideBar"},r.a.createElement("div",{className:"info"},r.a.createElement("div",null,r.a.createElement("img",{className:"avatar",src:e.avatar,alt:"user'avatar"})),r.a.createElement("p",{className:"u"},"User: ",e.username),r.a.createElement("p",{className:"u"},"E-mail: ",e.email)),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"bar"},r.a.createElement(ge.a,{size:"large",bordered:!0,style:{border:0}},r.a.createElement(st,{style:{padding:0}},r.a.createElement(G.a,{type:"ghost",className:"barBtn"},r.a.createElement(o.b,{to:"/personal/myPostsList"},"\u6211\u7684\u5e16\u5b50"))),r.a.createElement(st,{style:{padding:0}},r.a.createElement(G.a,{type:"ghost",className:"barBtn"},r.a.createElement(o.b,{to:"/personal/myCommentsList"},"\u6211\u7684\u8bc4\u8bba"))))),r.a.createElement("div",{className:"line"})),r.a.createElement(we.a,null),r.a.createElement("div",{className:"view"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/personal/myCommentsList",component:lt}),r.a.createElement(i.b,{path:"/personal",component:nt}))))}}]),t}(n.Component),ot=Object(c.b)(function(e){return{user:e.user,posts:e.posts,comments:e.comments}},{getAllComments:oe})(ct),it=function(e){function t(){return Object(L.a)(this,t),Object(x.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=q.a.get("userid"),t=this.props.user._id;e&&!t&&this.props.getUser()}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(_e,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/register",component:He}),r.a.createElement(i.b,{path:"/login",component:Xe}),r.a.createElement(i.b,{path:"/post",component:be}),r.a.createElement(i.b,{path:"/post:_id",component:Ke}),r.a.createElement(i.b,{path:"/personal",component:ot}),r.a.createElement(i.b,{path:"/game",component:Ze.a}),r.a.createElement(i.b,{component:Ie})))}}]),t}(n.Component),ut=Object(c.b)(function(e){return{user:e.user}},{getUser:function(){return function(){var e=Object(V.a)(J.a.mark(function e(t){var a,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/user");case 2:a=e.sent,0===(n=a.data).code?t(ne(n.data)):1===n.code&&t(se(n.msg));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(it);s.a.render(r.a.createElement(c.a,{store:A},r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:ut})))),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.95699746.chunk.js.map